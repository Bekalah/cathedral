#!/bin/bash
# cathedral-github-sync.sh
# Simple GitHub synchronization for Rebecca's work
# Connects to bekalah.github.io/cathedral for push/fetch operations

set -e

echo "🏛️ Cathedral GitHub Sync System"
echo "==============================="
echo "Connecting your work to bekalah.github.io/cathedral"
echo ""

# Check if GitHub remote exists
echo "🔍 Checking GitHub repository connection..."
if git remote | grep -q "github"; then
    echo "✅ GitHub remote already configured"
else
    echo "🔗 Adding GitHub remote..."
    git remote add github https://github.com/bekalah/cathedral.git
    echo "✅ GitHub remote added"
fi

# Set up local directory structure for your work
echo "📁 Organizing your work directories..."

# Create main work categories
mkdir -p tarot-system/72-degrees-hermann-haindl
mkdir -p circuitum99/33-living-chapters
mkdir -p audio-system/vst3-strudel-integration
mkdir -p mystical-system/alpha-omega-arcanae
mkdir -p business-system/rebecca-professional-work
mkdir -p game-system/fool-respawn-gate
mkdir -p session-system/replit-connection

echo "✅ Directory structure created"

# Create comprehensive README for the repo
cat > CATHEDRAL_UNIFIED_SYSTEM.md << 'EOF'
# Cathedral Unified System - Rebecca's Complete Work

## 🏛️ Overview
This repository contains Rebecca's complete mystical, business, and creative work unified in one place for seamless integration and development.

## 📚 Work Categories

### 🎴 Tarot System - 72 Degrees Hermann Haindl
- Complete Hermetic tarot deck system
- 72-degree ceremonial framework
- Hierophant ceremonial structure
- Mystical archetype integration

**Directory**: `tarot-system/72-degrees-hermann-haindl/`

### 🔄 Circuitum99 - 33 Living Chapters
- Alpha Et Omega architectural system
- Living document framework
- Mystical business integration
- Creative writing system

**Directory**: `circuitum99/33-living-chapters/`

### 🎵 Audio System - VST3 & Strudel Integration
- Professional audio plugin integration
- Strudel alchemical audio programming
- Sacred geometry in sound
- Mystical music composition

**Directory**: `audio-system/vst3-strudel-integration/`

### ⚡ Mystical System - Alpha Omega & Arcanae
- Complete mystical framework
- Alpha Et Omega dualities
- Arcanum integration
- Hierophant ceremonial structure

**Directory**: `mystical-system/alpha-omega-arcanae/`

### 💼 Business System - Rebecca Professional Work
- Professional writing portfolio
- Business integration framework
- Mystical consulting services
- Creative business models

**Directory**: `business-system/rebecca-professional-work/`

### 🎮 Game System - The Fool & Respawn Gate
- The Fool card game mechanics
- Respawn gate system
- Tarot-based game design
- Mystical gaming experience

**Directory**: `game-system/fool-respawn-gate/`

### 🔗 Session System - Replit Connection
- Cross-platform development
- Session management
- GitHub integration
- Development workflow

**Directory**: `session-system/replit-connection/`

## 🚀 Quick Commands

```bash
# Sync all work to GitHub
./cathedral-github-sync.sh push-all

# Pull latest from GitHub
./cathedral-github-sync.sh pull-all

# Add new work to specific category
./cathedral-github-sync.sh add-work <category> <file>

# Backup current work
./cathedral-github-sync.sh backup
```

## 🎯 Mission
Unify all mystical, business, and creative work in one flowing system that supports Rebecca's professional development and mystical practice.

## 🔗 Repository
**Master**: https://github.com/bekalah/cathedral
**Status**: Active development

---
*Generated by Cathedral Unified System - Rebecca's Complete Work Integration*
EOF

echo "✅ Comprehensive README created"

# Create sync scripts for each category
for category in tarot-system/72-degrees-hermann-haindl circuitum99/33-living-chapters audio-system/vst3-strudel-integration mystical-system/alpha-omega-arcanae business-system/rebecca-professional-work game-system/fool-respawn-gate session-system/replit-connection; do
    category_name=$(basename "$category")
    cat > "sync-${category_name}.sh" << EOF
#!/bin/bash
# Sync $category_name to GitHub
echo "🔄 Syncing $category_name..."

git add "$category"
git commit -m "Update $category_name - $(date)" || echo "No changes in $category_name"
git push github main

echo "✅ $category_name synced successfully"
EOF
    chmod +x "sync-${category_name}.sh"
done

echo "✅ Sync scripts created"

# Create master sync command
cat > cathedral-sync-all.sh << 'EOF'
#!/bin/bash
# Master sync script for all Cathedral work

echo "🚀 Cathedral Master Sync - All Systems"
echo "======================================"

# Sync all categories
for script in sync-*.sh; do
    if [ -f "$script" ]; then
        echo "🔄 Running $script..."
        ./"$script" || echo "⚠️  $script completed with warnings"
    fi
done

# Final push
echo "📤 Final push to GitHub..."
git push github main

echo ""
echo "🎉 Cathedral Master Sync Complete!"
echo "🌐 Live at: https://bekalah.github.io/cathedral"
echo "📅 All work synchronized: $(date)"
EOF

chmod +x cathedral-sync-all.sh

echo "✅ Master sync script created"

# Test the connection
echo "🧪 Testing GitHub connection..."
if git fetch github main 2>/dev/null; then
    echo "✅ GitHub connection working"
else
    echo "⚠️  GitHub connection needs setup"
    echo "💡 You may need to set up GitHub credentials"
fi

echo ""
echo "🎉 CATHEDRAL GITHUB SYNC SYSTEM READY!"
echo "======================================"
echo ""
echo "📂 Your work is organized in:"
echo "   • tarot-system/72-degrees-hermann-haindl/"
echo "   • circuitum99/33-living-chapters/"
echo "   • audio-system/vst3-strudel-integration/"
echo "   • mystical-system/alpha-omega-arcanae/"
echo "   • business-system/rebecca-professional-work/"
echo "   • game-system/fool-respawn-gate/"
echo "   • session-system/replit-connection/"
echo ""
echo "🚀 Quick commands:"
echo "   ./cathedral-sync-all.sh    - Sync everything to GitHub"
echo "   ./sync-tarot-system.sh     - Sync just tarot work"
echo "   ./sync-circuitum99.sh      - Sync circuitum99 work"
echo ""
echo "🌐 Master repo: https://github.com/bekalah/cathedral"
echo ""
echo "✨ Your unified Cathedral system is ready!"