{
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  
  // Cathedral Shell Integration - Respecting workspace shell rules
  "terminal.integrated.env.osx": {
    "PATH": "${workspaceFolder}/bin:${workspaceFolder}:${env:PATH}",
    "CATHEDRAL_ROOT": "${workspaceFolder}",
    "CATHEDRAL_SESSION_ID": "cathedral-rust-magnus-opus-2025"
  },
  
  // Cathedral workspace environment variables
  "CATHEDRAL_ROOT": "${workspaceFolder}",
  "CATHEDRAL_SESSION_ID": "cathedral-rust-magnus-opus-2025",
  "CATHEDRAL_GITHUB_REPO": "https://github.com/bekalah/cathedral",
  
  // Ensure VS Code uses the project's venv so Pylance resolves imports
  "python.defaultInterpreterPath": "${workspaceFolder}/.venv/bin/python",
  // Prefer workspace analysis for accuracy
  "python.analysis.diagnosticMode": "workspace",
  // Hint where venv lives
  "python.analysis.venvPath": "${workspaceFolder}",
  // Remove legacy python-envs configuration noise
  "python-envs.pythonProjects": [
    {
      "path": "",
      "envManager": "ms-python.python:system",
      "packageManager": "ms-python.python:pip"
    }
  ],
  "python.testing.unittestArgs": ["-v", "-s", "./tests", "-p", "*test.py"],
  "python.testing.pytestEnabled": false,
  "python.testing.unittestEnabled": true
}
