{
  "$schema": "https://turbo.build/schema.json",
  "ui": "stream",
  "globalDependencies": ["**/.env.*local"],
  "tasks": {
    "build": {
      "dependsOn": ["^build"],
      "outputs": [
        "dist/**",
        "lib/**",
        "build/**",
        "out/**",
        "coverage/**",
        "*.tsbuildinfo"
      ],
      "env": ["NODE_ENV", "CI", "VERCEL_ENV"],
      "cache": true,
      "persistent": false
    },
    "dev": {
      "cache": false,
      "persistent": true,
      "dependsOn": ["^build"],
      "env": ["NODE_ENV", "DEV_SERVER_PORT"],
      "outputs": ["dist/**", "build/**"],
      "minDurationMs": 500
    },
    "test": {
      "dependsOn": ["^build"],
      "outputs": ["coverage/**", "test-results/**"],
      "cache": true,
      "env": ["NODE_ENV", "CI", "NODE_OPTIONS"],
      "cacheOptions": {
        "timeoutMs": 10000
      }
    },
    "lint": {
      "outputs": ["lint-results/**"],
      "cache": true,
      "cacheOptions": {
        "timeoutMs": 5000
      }
    },
    "lint:fix": {
      "cache": false,
      "dependsOn": ["^build"],
      "outputs": ["lint-results/**"]
    },
    "type-check": {
      "dependsOn": ["^build"],
      "outputs": ["*.tsbuildinfo"],
      "cache": true,
      "cacheOptions": {
        "timeoutMs": 5000
      }
    },
    "clean": {
      "cache": false,
      "env": ["NODE_ENV"],
      "outputs": [
        "dist/**",
        "lib/**",
        "build/**",
        "out/**",
        "coverage/**",
        "*.tsbuildinfo",
        "node_modules/.cache/**"
      ]
    },
    "clean:all": {
      "cache": false,
      "env": ["NODE_ENV"],
      "outputs": [
        "dist/**",
        "lib/**",
        "build/**",
        "out/**",
        "coverage/**",
        "*.tsbuildinfo",
        "node_modules/.cache/**",
        ".turbo/**",
        "node_modules/**"
      ]
    },
    "benchmark": {
      "dependsOn": ["^build"],
      "outputs": ["benchmark-results/**"],
      "cache": true,
      "env": ["NODE_ENV", "BENCHMARK_MODE"],
      "cacheOptions": {
        "timeoutMs": 30000
      }
    },
    "validate": {
      "dependsOn": ["type-check", "lint", "test"],
      "cache": true,
      "outputs": ["validation-results/**"],
      "env": ["NODE_ENV", "CI"]
    },
    "validate:ci": {
      "dependsOn": ["type-check", "lint", "test:ci"],
      "cache": true,
      "outputs": ["validation-results/**"],
      "env": ["NODE_ENV", "CI"]
    },
    "quality": {
      "dependsOn": ["type-check", "lint", "test"],
      "cache": true,
      "outputs": ["quality-results/**"],
      "env": ["NODE_ENV", "CI"]
    },
    "quality:audit": {
      "dependsOn": ["quality"],
      "cache": true,
      "outputs": ["security-results/**"],
      "env": ["NODE_ENV", "CI"]
    },
    "quality:full": {
      "dependsOn": ["type-check", "lint", "test", "deps:audit"],
      "cache": true,
      "outputs": ["quality-results/**", "security-results/**"],
      "env": ["NODE_ENV", "CI"]
    },
    "quality:security": {
      "dependsOn": ["deps:audit"],
      "cache": true,
      "outputs": ["security-results/**"],
      "env": ["NODE_ENV", "CI"]
    },
    "deps:audit": {
      "dependsOn": ["^build"],
      "outputs": ["security-results/**"],
      "cache": true,
      "env": ["NODE_ENV", "CI"]
    }
  },
  "pipeline": {
    "build": {
      "dependsOn": ["^build"],
      "outputs": [
        "dist/**",
        "lib/**",
        "build/**",
        "out/**",
        "coverage/**",
        "*.tsbuildinfo"
      ],
      "cache": true,
      "env": ["NODE_ENV", "CI"],
      "perf": {
        "timeoutMs": 180000,
        "cacheTimeoutMs": 604800000,
        "maxConcurrency": 12,
        "memoryLimit": "1GB"
      }
    },
    "dev": {
      "cache": false,
      "persistent": true,
      "dependsOn": ["^build"],
      "outputs": ["dist/**", "build/**"],
      "perf": {
        "minDurationMs": 500,
        "memoryLimit": "512MB"
      }
    },
    "test": {
      "dependsOn": ["^build"],
      "outputs": ["coverage/**", "test-results/**"],
      "cache": true,
      "perf": {
        "timeoutMs": 60000,
        "cacheTimeoutMs": 86400000
      }
    },
    "lint": {
      "outputs": ["lint-results/**"],
      "cache": true,
      "perf": {
        "timeoutMs": 30000,
        "cacheTimeoutMs": 86400000
      }
    },
    "type-check": {
      "dependsOn": ["^build"],
      "outputs": ["*.tsbuildinfo"],
      "cache": true,
      "perf": {
        "timeoutMs": 30000,
        "cacheTimeoutMs": 86400000
      }
    }
  },
  "remoteCache": {
    "enabled": true,
    "signature": true
  },
  "experimentalUI": true,
  "experimentalSpeedups": {
    "cache": {
      "compressionLevel": 6,
      "cacheKeyFormat": "contentHash",
      "incrementalFingerprinting": true
    },
    "execution": {
      "parallelism": "auto",
      "workerPool": "dynamic",
      "dependencyAnalysis": "static",
      "buildCaching": "smart",
      "incrementalBuilds": true
    }
  },
  "perf": {
    "targetBuildTime": 300000,
    "maxConcurrency": 12,
    "memoryLimit": "2GB",
    "cacheTimeoutMs": 604800000,
    "networkTimeoutMs": 30000,
    "keepAliveTimeoutMs": 5000
  },
  "env": {
    "NODE_ENV": "development",
    "CI": "false",
    "VERCEL_ENV": "development"
  },
  "buildEnvironment": {
    "production": {
      "NODE_ENV": "production",
      "CI": "true"
    },
    "development": {
      "NODE_ENV": "development",
      "CI": "false"
    },
    "test": {
      "NODE_ENV": "test",
      "CI": "true"
    }
  },
  "package": {
    "scripts": {
      "build": {
        "standard": "tsc",
        "with-build": "tsc && vite build",
        "complex": "tsc && vite build && npm run postbuild",
        "minimal": "tsc --project tsconfig.json"
      },
      "dev": {
        "standard": "tsc --watch",
        "vite": "vite dev",
        "ts-node": "ts-node-dev"
      }
    }
  }
}