<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Cathedral System Shell</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <meta name="color-scheme" content="dark light">
  <style>
    :root {
      --bg:#06060c;
      --panel:#0e0e18;
      --ink:#f2f4ff;
      --muted:#a1a4c5;
      --accent:#9fd4ff;
    }
    html,body { margin:0; padding:0; background:var(--bg); color:var(--ink); font:15px/1.6 "IBM Plex Sans",system-ui,sans-serif; }
    header { padding:18px 22px; border-bottom:1px solid #1a1a2c; background:#05050b; }
    header h1 { margin:0; font-size:1.5rem; letter-spacing:0.08em; text-transform:uppercase; }
    header p { margin:6px 0 0; color:var(--muted); max-width:860px; }
    main { max-width:1200px; margin:0 auto 40px; padding:24px; display:grid; gap:24px; grid-template-columns:320px minmax(0,1fr); }
    nav {
      background:var(--panel);
      border:1px solid #1a1a2c;
      border-radius:18px;
      padding:20px;
      display:grid;
      gap:12px;
    }
    button.mode {
      border-radius:12px;
      border:1px solid rgba(159,212,255,0.4);
      background:rgba(159,212,255,0.12);
      color:var(--accent);
      padding:12px 14px;
      text-align:left;
      cursor:pointer;
      font-size:0.95rem;
      letter-spacing:0.04em;
      text-transform:uppercase;
    }
    button.mode span { display:block; margin-top:4px; color:var(--muted); font-size:0.75rem; text-transform:none; letter-spacing:0; }
    button.mode.active { background:rgba(159,212,255,0.32); color:#04101a; border-color:rgba(159,212,255,0.7); }
    button.mode:focus-visible { outline:2px solid rgba(159,212,255,0.6); outline-offset:2px; }
    section.panel { background:var(--panel); border:1px solid #1a1a2c; border-radius:18px; padding:24px; display:grid; gap:18px; }
    h2 { margin:0; font-size:1.2rem; letter-spacing:0.06em; text-transform:uppercase; }
    .summary { color:var(--muted); font-size:0.9rem; margin:0; }
    .grid { display:grid; gap:14px; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); }
    .card { border:1px solid rgba(255,255,255,0.06); border-radius:14px; padding:16px; }
    .card h3 { margin:0 0 6px; font-size:0.95rem; letter-spacing:0.05em; text-transform:uppercase; }
    .card p { margin:0; color:var(--muted); font-size:0.85rem; }
    .status { font-size:0.85rem; color:var(--muted); }
    @media (max-width:1024px) { main { grid-template-columns:1fr; } }
  </style>
</head>
<body>
  <header>
    <h1>Cathedral System Shell</h1>
    <p>Mode shell routing art, geometry, story, game, harmonic, and experimental stacks. Static toggles keep the ritual ND-safe.</p>
  </header>
  <main>
    <nav id="modeList"></nav>
    <section class="panel">
      <h2 id="modeTitle">Art Mode</h2>
      <p class="summary" id="modeSummary">Projective art spells using the vesica palette with no motion.</p>
      <div class="grid" id="modeGrid"></div>
      <p class="status" id="modeStatus">Select another mode to inspect its loadout. No network requests are made.</p>
    </section>
  </main>

  <script type="module">
    const MODES = [
      {
        id: 'art',
        title: 'Art Mode',
        summary: 'Projective art spells using the vesica palette with no motion.',
        tasks: [
          { name: 'Palette Composer', detail: 'Swap layer hues for cosmic illustrations.' },
          { name: 'Sigil Layout', detail: 'Place layered sigils with AA+ contrast.' },
          { name: 'Archive Export', detail: 'Generate static PNG boards offline.' }
        ],
        status: 'Ready — palette cache loaded from local disk.'
      },
      {
        id: 'geometry',
        title: 'Geometry Mode',
        summary: 'Sacred geometry renderer with vesica, Fibonacci, and helix layers.',
        tasks: [
          { name: 'Helix Engine', detail: 'Invoke lean render stack (no animation).' },
          { name: 'Grid Aligner', detail: 'Align 144 node lattice for field calibration.' },
          { name: 'Measurement Logs', detail: 'Record numerology constants per render.' }
        ],
        status: 'Ready — helix module initialised.'
      },
      {
        id: 'story',
        title: 'Story Mode',
        summary: 'Narrative sequencing and tarot overlays with calm transitions only.',
        tasks: [
          { name: 'Tarot Spread', detail: 'Render spreads with layered deck metadata.' },
          { name: 'Lore Timeline', detail: 'Display chronology cards with no auto-scroll.' },
          { name: 'Character Codex', detail: 'Index persona notes for manual perusal.' }
        ],
        status: 'Idle — load story packs manually.'
      },
      {
        id: 'game',
        title: 'Game Mode',
        summary: 'Tactical node adventures tuned for offline exploration.',
        tasks: [
          { name: 'Dungeon Seeds', detail: 'Static map seeds derived from cathedral corpus.' },
          { name: 'Encounter Table', detail: 'Manual step-through for each chamber.' },
          { name: 'Artifact Vault', detail: 'Reference-only item manifest (no loot RNG).' }
        ],
        status: 'Standby — loadouts cached locally.'
      },
      {
        id: 'harmonic',
        title: 'Harmonic Mode',
        summary: 'Soundboard with solfeggio tuning — plays only on manual trigger.',
        tasks: [
          { name: 'Frequency Grid', detail: 'Display solfeggio values and correspondences.' },
          { name: 'Resonance Notes', detail: 'Annotate mindful listening protocols.' },
          { name: 'Breath Cards', detail: 'Show breath sequences alongside cues.' }
        ],
        status: 'Manual — audio trigger disabled by default.'
      },
      {
        id: 'experimental',
        title: 'Experimental Mode',
        summary: 'Sandbox for speculative rituals, toggled intentionally.',
        tasks: [
          { name: 'Prototype Deck', detail: 'Preview upcoming ritual mechanics.' },
          { name: 'Sensor Bridge', detail: 'Map biometric data to static overlays.' },
          { name: 'Field Notes', detail: 'Log experiential data with timestamp.' }
        ],
        status: 'Caution — double-check parameters before enabling.'
      }
    ];

    let activeMode = MODES[0];

    function renderModeList() {
      const list = document.getElementById('modeList');
      list.innerHTML = '';
      MODES.forEach(mode => {
        const button = document.createElement('button');
        const isActive = mode.id === activeMode.id;
        button.type = 'button';
        button.className = 'mode' + (isActive ? ' active' : '');
        button.textContent = mode.title;
        button.setAttribute('aria-pressed', isActive ? 'true' : 'false');
        const span = document.createElement('span');
        span.textContent = mode.summary;
        button.append(span);
        button.addEventListener('click', () => {
          activeMode = mode;
          renderModeList();
          renderModeDetails();
        });
        list.append(button);
      });
    }

    function renderModeDetails() {
      document.getElementById('modeTitle').textContent = activeMode.title;
      document.getElementById('modeSummary').textContent = activeMode.summary;
      const grid = document.getElementById('modeGrid');
      grid.innerHTML = '';
      activeMode.tasks.forEach(task => {
        const card = document.createElement('article');
        card.className = 'card';
        const heading = document.createElement('h3');
        heading.textContent = task.name;
        const body = document.createElement('p');
        body.textContent = task.detail;
        card.append(heading, body);
        grid.append(card);
      });
      document.getElementById('modeStatus').textContent = activeMode.status;
    }

    renderModeList();
    renderModeDetails();
  </script>
</body>
</html>
